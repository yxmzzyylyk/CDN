(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52f58858"],{"498a":function(t,e,n){"use strict";var a=n("23e7"),i=n("58a8").trim,r=n("c8d2");a({target:"String",proto:!0,forced:r("trim")},{trim:function(){return i(this)}})},5319:function(t,e,n){"use strict";var a=n("d784"),i=n("825a"),r=n("7b0b"),o=n("50c4"),s=n("a691"),c=n("1d80"),u=n("8aa5"),l=n("14c3"),p=Math.max,d=Math.min,f=Math.floor,g=/\$([$&'`]|\d\d?|<[^>]*>)/g,_=/\$([$&'`]|\d\d?)/g,h=function(t){return void 0===t?t:String(t)};a("replace",2,(function(t,e,n,a){var v=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=a.REPLACE_KEEPS_$0,b=v?"$":"$0";return[function(n,a){var i=c(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,i,a):e.call(String(i),n,a)},function(t,a){if(!v&&m||"string"===typeof a&&-1===a.indexOf(b)){var r=n(e,t,this,a);if(r.done)return r.value}var c=i(t),f=String(this),g="function"===typeof a;g||(a=String(a));var _=c.global;if(_){var k=c.unicode;c.lastIndex=0}var C=[];while(1){var x=l(c,f);if(null===x)break;if(C.push(x),!_)break;var E=String(x[0]);""===E&&(c.lastIndex=u(f,o(c.lastIndex),k))}for(var I="",y=0,S=0;S<C.length;S++){x=C[S];for(var N=String(x[0]),A=p(d(s(x.index),f.length),0),$=[],O=1;O<x.length;O++)$.push(h(x[O]));var T=x.groups;if(g){var P=[N].concat($,A,f);void 0!==T&&P.push(T);var M=String(a.apply(void 0,P))}else M=w(N,f,A,$,T,a);A>=y&&(I+=f.slice(y,A)+M,y=A+N.length)}return I+f.slice(y)}];function w(t,n,a,i,o,s){var c=a+t.length,u=i.length,l=_;return void 0!==o&&(o=r(o),l=g),e.call(s,l,(function(e,r){var s;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,a);case"'":return n.slice(c);case"<":s=o[r.slice(1,-1)];break;default:var l=+r;if(0===l)return e;if(l>u){var p=f(l/10);return 0===p?e:p<=u?void 0===i[p-1]?r.charAt(1):i[p-1]+r.charAt(1):e}s=i[l-1]}return void 0===s?"":s}))}}))},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var a=n("1d80"),i=n("5899"),r="["+i+"]",o=RegExp("^"+r+r+"*"),s=RegExp(r+r+"*$"),c=function(t){return function(e){var n=String(a(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},6514:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wbs-content"},[n("div",{staticClass:"wbs-main"},[t.is_loaded?n("table",{staticClass:"wbs-form-table"},[n("tr",[n("th",{staticClass:"row w8em"},[t._v("保留周期 "),n("wbs-tooltip",{attrs:{"data-msg":t.tooltips.log_keep}})],1),n("td",[n("div",{staticClass:"selector-bar"},t._l(t.log_keep,(function(e,a){return n("label",{key:a},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.opt.log_keep,expression:"opt.log_keep"}],attrs:{type:"radio"},domProps:{value:a,checked:t._q(t.opt.log_keep,a)},on:{change:function(e){return t.$set(t.opt,"log_keep",a)}}}),n("span",[t._v(t._s(e))])])})),0)])]),n("tr",[n("th",{staticClass:"row"},[t._v("备份与删除 "),n("wbs-tooltip",{attrs:{"data-msg":t.tooltips.del_backup}})],1),n("td",[n("label",[n("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return t.down_log()}}},[t._v("日志备份")])]),n("label",{staticClass:"ml"},[n("button",{staticClass:"button ",attrs:{type:"button"},on:{click:function(e){return t.del_spider_log()}}},[t._v("日志删除")])])])]),n("tr",[n("th",{staticClass:"row"},[t._v("自定义蜘蛛 "),n("wbs-tooltip",{staticClass:"on-top",attrs:{"data-msg":t.tooltips.custom_spider}})],1),n("td",[n("wbs-custom-spider",{attrs:{items:t.opt.user_define,mode:1,placeholder:"蜘蛛名称"},on:{"set-tags":function(e){t.opt.user_define=e}}})],1)])]):t._e()]),n("wbs-more-sources",{staticClass:"wbs-main"}),n("wbs-ctrl-bar",{on:{submit:t.update_data}})],1)},i=[],r=n("365c"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{class:t.mode?"wb-tags-mode-b":"wb-tags-ctrl"},[t.mode?n("div",{staticClass:"wb-tags-input-box"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.cur_input,expression:"cur_input"}],staticClass:"wbs-input wbs-input-short",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.cur_input},on:{keyup:t.wbTagInput,input:function(e){e.target.composing||(t.cur_input=e.target.value)}}}),n("a",{staticClass:"ml link",on:{click:t.wbTagPush}},[t._v("添加 +")])]):n("input",{directives:[{name:"model",rawName:"v-model",value:t.cur_input,expression:"cur_input"}],staticClass:"wb-tag-input",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.cur_input},on:{keyup:t.wbTagInput,input:function(e){e.target.composing||(t.cur_input=e.target.value)}}}),t.items.length?n("div",{staticClass:"tag-items"},t._l(t.items,(function(e,a){return n("div",{key:a,staticClass:"tag-item"},[n("span",{staticClass:"vam ib",domProps:{innerHTML:t._s(t.displayFormat(e))}}),n("a",{staticClass:"del",attrs:{"data-del-val":e},on:{click:function(e){return t.delItem(a)}}})])})),0):t._e()])},s=[],c=(n("c975"),n("a434"),n("a9e3"),n("ac1f"),n("5319"),n("498a"),{name:"wbsCustomSpider",props:{items:Array,mode:Number,placeholder:String},data:function(){return{cur_input:"",taglist:[],keycode:null}},template:"#wbs_tpl_custom_spider",created:function(){this.taglist=this.items?this.items:[]},methods:{wbTagInput:function(t){var e=this,n=t.keyCode;188===n&&(e.cur_input=e.cur_input.replace(/(^,)|(,$)/,"")),13===n&&(e.wbTagPush(),event.stopPropagation())},wbTagPush:function(t){var e=this;return""!=e.cur_input&&(e.taglist.indexOf(e.cur_input.trim())>-1?(wbui.toast("已存在"),e.cur_input="",!1):(e.taglist.push(e.cur_input),e.$emit("set-tags",e.taglist),e.cur_input="",!1))},delItem:function(t){var e=this;wbui.confirm("确认删除？",(function(){e.taglist.splice(t,1),e.$emit("set-tags",e.taglist),wbui.toast("已移除")}))},displayFormat:function(t){return t}}}),u=c,l=n("2877"),p=Object(l["a"])(u,o,s,!1,null,null,null),d=p.exports,f={name:"SettingLog",components:{"wbs-custom-spider":d},data:function(){var t=this;return{form_changed:0,is_loaded:0,is_pro:t.$cnf.is_pro,opt:{user_define:[],log_keep:""},log_keep:{1:"最近30天",3:"最近3个月",6:"最近6个月",12:"最近1年",120:"永久保留"},tooltips:{del_backup:"如历史日志体积过大，可以考虑备份与删除日志。",log_keep:"如蜘蛛日志过大导致数据库访问性能下降，建议选择保留周期为最近30天。",custom_spider:"可添加插件未记录的蜘蛛日志，请准确填写蜘蛛名称。"}}},created:function(){this.load_data()},methods:{down_log:function(){var t=this;window.open(ajaxurl+"?action="+t.$cnf.action.act+"&op=down_log","down_log")},del_spider_log:function(){var t=this;wbui.confirm("删除日志操作，将会永久性删除所有蜘蛛历史数据。请谨慎操作！",(function(){Object(r["b"])({action:t.$cnf.action.act,op:"clean_log"}).then((function(t){wbui.toast("删除成功",(function(){location.reload()}))}))}))},load_data:function(){var t=this;t.log_loading=wbui.loading(),Object(r["a"])({action:t.$cnf.action.act,op:"get_setting"}).then((function(e){t.opt.user_define=e["data"]["opt"]["user_define"],t.opt.log_keep=e["data"]["opt"]["log_keep"],wbui.close(t.log_loading),t.is_loaded=1}))},update_data:function(){var t=this,e={action:t.$cnf.action.act,op:"update_setting",opt:t.opt};Object(r["b"])(e).then((function(e){wbui.toast("设置保存成功"),t.form_changed=1}))}},watch:{opt:{handler:function(){this.form_changed++},deep:!0}},beforeRouteLeave:function(t,e,n){var a=this;a.form_changed>1?wbui.confirm("您修改的设置尚未保存，确定离开此页面吗？",(function(){return n(),!1}),(function(){return n(!1),!1})):n()}},g=f,_=Object(l["a"])(g,a,i,!1,null,null,null);e["default"]=_.exports},7156:function(t,e,n){var a=n("861d"),i=n("d2bb");t.exports=function(t,e,n){var r,o;return i&&"function"==typeof(r=e.constructor)&&r!==n&&a(o=r.prototype)&&o!==n.prototype&&i(t,o),t}},a434:function(t,e,n){"use strict";var a=n("23e7"),i=n("23cb"),r=n("a691"),o=n("50c4"),s=n("7b0b"),c=n("65f0"),u=n("8418"),l=n("1dde"),p=n("ae40"),d=l("splice"),f=p("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,_=Math.min,h=9007199254740991,v="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!d||!f},{splice:function(t,e){var n,a,l,p,d,f,m=s(this),b=o(m.length),w=i(t,b),k=arguments.length;if(0===k?n=a=0:1===k?(n=0,a=b-w):(n=k-2,a=_(g(r(e),0),b-w)),b+n-a>h)throw TypeError(v);for(l=c(m,a),p=0;p<a;p++)d=w+p,d in m&&u(l,p,m[d]);if(l.length=a,n<a){for(p=w;p<b-a;p++)d=p+a,f=p+n,d in m?m[f]=m[d]:delete m[f];for(p=b;p>b-a+n;p--)delete m[p-1]}else if(n>a)for(p=b-a;p>w;p--)d=p+a-1,f=p+n-1,d in m?m[f]=m[d]:delete m[f];for(p=0;p<n;p++)m[p+w]=arguments[p+2];return m.length=b-a+n,l}})},a9e3:function(t,e,n){"use strict";var a=n("83ab"),i=n("da84"),r=n("94ca"),o=n("6eeb"),s=n("5135"),c=n("c6b6"),u=n("7156"),l=n("c04e"),p=n("d039"),d=n("7c73"),f=n("241c").f,g=n("06cf").f,_=n("9bf2").f,h=n("58a8").trim,v="Number",m=i[v],b=m.prototype,w=c(d(b))==v,k=function(t){var e,n,a,i,r,o,s,c,u=l(t,!1);if("string"==typeof u&&u.length>2)if(u=h(u),e=u.charCodeAt(0),43===e||45===e){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+u}for(r=u.slice(2),o=r.length,s=0;s<o;s++)if(c=r.charCodeAt(s),c<48||c>i)return NaN;return parseInt(r,a)}return+u};if(r(v,!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var C,x=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof x&&(w?p((function(){b.valueOf.call(n)})):c(n)!=v)?u(new m(k(e)),n,x):k(e)},E=a?f(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;E.length>I;I++)s(m,C=E[I])&&!s(x,C)&&_(x,C,g(m,C));x.prototype=b,b.constructor=x,o(i,v,x)}},c8d2:function(t,e,n){var a=n("d039"),i=n("5899"),r="​᠎";t.exports=function(t){return a((function(){return!!i[t]()||r[t]()!=r||i[t].name!==t}))}},c975:function(t,e,n){"use strict";var a=n("23e7"),i=n("4d64").indexOf,r=n("a640"),o=n("ae40"),s=[].indexOf,c=!!s&&1/[1].indexOf(1,-0)<0,u=r("indexOf"),l=o("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:c||!u||!l},{indexOf:function(t){return c?s.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);